---
import BaseLayout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import StarsBackground from '../components/StarsBackground.astro';
---

<BaseLayout title="Uwitz | Donate">
  <StarsBackground />
  <Navbar />
  <main class="relative min-h-screen text-gray-100 pt-16">
    <div id="gradient-overlay" class="fixed inset-0 bg-gradient-to-b from-black to-red-900/30 opacity-100 transition-opacity duration-300 pointer-events-none"></div>
    <div class="relative min-h-[calc(100vh-4rem)] flex items-center">
      <!-- Donation Section -->
      <section class="container mx-auto px-4 sm:px-4 py-4 w-full">
        <div class="max-w-5xl mx-auto">
          <div class="bg-black/40 backdrop-blur-sm rounded-2xl p-4 sm:p-6 border border-red-500/20 shadow-xl">
            <h2 class="text-2xl sm:text-3xl font-bold mb-0 text-red-500 font-jetbrains tracking-tight">Support Uwitz</h2>

            <!-- Payment Methods Grid -->
            <div class="grid md:grid-cols-2 gap-4 sm:gap-6 md:h-[calc(100%-2rem)] -mt-4 sm:-mt-6">
              <!-- Left Column -->
              <div class="space-y-4 sm:space-y-6 flex flex-col justify-end">
                <!-- Bank Transfer -->
                <div class="bg-black/40 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-red-500/20 hover:border-red-500/40 transition-all group flex flex-col shadow-lg">
                  <div class="flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4">
                    <img src="/bank.svg" alt="Bank Transfer" class="w-6 h-6 sm:w-8 sm:h-8 text-red-500 fill-current" />
                    <h3 class="text-lg sm:text-xl font-bold text-red-500 group-hover:text-red-400 transition-colors">Bank Transfer</h3>
                  </div>
                  
                  <!-- Country Selector -->
                  <div class="mb-4">
                    <select id="country-select" class="w-full bg-gray-800/50 border border-red-500/20 rounded-lg px-3 py-2 text-gray-300 focus:outline-none focus:border-red-500/40 transition-colors">
                      <option value="sepa">Europe (SEPA)</option>
                      <option value="usa">United States of America</option>
                      <option value="uk">United Kingdom</option>
                      <option value="switzerland">Switzerland</option>
                      <option value="australia">Australia</option>
                      <option value="singapore">Singapore</option>
                      <option value="malaysia">Malaysia</option>
                    </select>
                  </div>

                  <!-- Bank Details -->
                  <div class="bg-gray-800/50 rounded-lg p-2 sm:p-2 border border-red-500/10 shadow-inner">
                    <div id="bank-details" class="text-xs sm:text-sm text-gray-300">
                      <!-- Default SEPA details -->
                      <div id="sepa-details">
                        <div class="flex">
                          <code class="w-36">IBAN:</code>
                          <code class="flex-grow">BE37 9050 5550 5528</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">SWIFT/BIC:</code>
                          <code class="flex-grow">TRWIBEB1XXX</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">BANK:</code>
                          <code class="flex-grow">Wise</code>
                        </div>
                        <br/>
                        <br/>
                      </div>
                      <!-- USA details -->
                      <div id="usa-details" class="hidden">
                        <div class="flex">
                          <code class="w-36">ACCOUNT NUMBER:</code>
                          <code class="flex-grow">8314598251</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">TYPE:</code>
                          <code class="flex-grow">Checking</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">ROUTING NUMBER:</code>
                          <code class="flex-grow">026073150</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">SWIFT/BIC:</code>
                          <code class="flex-grow">CMFGUS33</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">BANK:</code>
                          <code class="flex-grow">Community Federal Savings Bank</code>
                        </div>
                      </div>
                      <!-- UK details -->
                      <div id="uk-details" class="hidden">
                        <div class="flex">
                          <code class="w-36">SORT CODE:</code>
                          <code class="flex-grow">23-14-70</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">ACCOUNT NUMBER:</code>
                          <code class="flex-grow">48365839</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">IBAN:</code>
                          <code class="flex-grow">GB71 TRWI 2314 7048 3658 39</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">SWIFT/BIC:</code>
                          <code class="flex-grow">TRWIGB2LXXX</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">BANK:</code>
                          <code class="flex-grow">Wise Payments Limited</code>
                        </div>
                      </div>
                      <!-- Switzerland details -->
                      <div id="switzerland-details" class="hidden">
                        <div class="flex">
                          <code class="w-36">IBAN:</code>
                          <code class="flex-grow">GB71 TRWI 2314 7048 3658 39</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">SWIFT/BIC:</code>
                          <code class="flex-grow">TRWIGB2LXXX</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">BANK:</code>
                          <code class="flex-grow">Wise Payments Limited</code>
                        </div>
                        <br/>
                        <br/>
                      </div>
                      <!-- Australia details -->
                      <div id="australia-details" class="hidden">
                        <div class="flex">
                          <code class="w-36">BSB:</code>
                          <code class="flex-grow">774-001</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">ACCOUNT NUMBER:</code>
                          <code class="flex-grow">226530537</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">SWIFT/BIC:</code>
                          <code class="flex-grow">TRWIAUS1XXX</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">BANK:</code>
                          <code class="flex-grow">Wise Australia Pty Ltd</code>
                        </div>
                        <br/>
                      </div>
                      <!-- Singapore details -->
                      <div id="singapore-details" class="hidden">
                        <div class="flex">
                          <code class="w-36">BANK CODE:</code>
                          <code class="flex-grow">0516</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">ACCOUNT NUMBER:</code>
                          <code class="flex-grow">155-581-90</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">SWIFT/BIC:</code>
                          <code class="flex-grow">TRWISGSGXXX</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">BANK:</code>
                          <code class="flex-grow">Wise Asia-Pacific Pte. Ltd.</code>
                        </div>
                        <br/>
                      </div>
                      <!-- Malaysia details -->
                      <div id="malaysia-details" class="hidden">
                        <div class="flex">
                          <code class="w-36">ACCOUNT NUMBER:</code>
                          <code class="flex-grow">312123401365372</code>
                        </div>
                        <div class="flex">
                          <code class="w-36">BANK:</code>
                          <code class="flex-grow">JPMorgan Chase Bank Berhad</code>
                        </div>
                        <br/>
                        <br/>
                        <br/>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- XRP -->
                <div class="bg-black/40 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-red-500/20 hover:border-red-500/40 transition-all group shadow-lg">
                  <div class="flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4">
                    <img src="/xrp.svg" alt="XRP" class="w-6 h-6 sm:w-8 sm:h-8" />
                    <h3 class="text-lg sm:text-xl font-bold text-red-500 group-hover:text-red-400 transition-colors">XRP</h3>
                  </div>
                  <div class="bg-gray-800/50 rounded-lg p-2 sm:p-3 border border-red-500/10 shadow-inner">
                    <code class="text-xs sm:text-sm text-gray-300 break-all">rUaGneGsUrmCBytu5rY9R8hqkQgXV9ZGQ5</code>
                  </div>
                </div>
              </div>

              <!-- Right Column -->
              <div class="space-y-4 sm:space-y-6">
                <!-- Solana -->
                <div class="bg-black/40 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-red-500/20 hover:border-red-500/40 transition-all group shadow-lg">
                  <div class="flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4">
                    <img src="/solana.svg" alt="Solana" class="w-6 h-6 sm:w-8 sm:h-8" />
                    <h3 class="text-lg sm:text-xl font-bold text-red-500 group-hover:text-red-400 transition-colors">Solana</h3>
                  </div>
                  <div class="bg-gray-800/50 rounded-lg p-2 sm:p-3 border border-red-500/10 shadow-inner">
                    <code class="text-xs sm:text-sm text-gray-300 break-all">9DxEc1w52qC17mzrNZ4U6paLbgvXqUvg8dRyo8YVGD4A</code>
                  </div>
                </div>

                <!-- Bitcoin -->
                <div class="bg-black/40 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-red-500/20 hover:border-red-500/40 transition-all group shadow-lg">
                  <div class="flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4">
                    <img src="/bitcoin.svg" alt="Bitcoin" class="w-6 h-6 sm:w-8 sm:h-8" />
                    <h3 class="text-lg sm:text-xl font-bold text-red-500 group-hover:text-red-400 transition-colors">Bitcoin</h3>
                  </div>
                  <div class="bg-gray-800/50 rounded-lg p-2 sm:p-3 border border-red-500/10 shadow-inner">
                    <code class="text-xs sm:text-sm text-gray-300 break-all">bc1qtp96njt023vgjlrwzdthjcnhnmqyh2ff2lpu5q</code>
                  </div>
                </div>

                <!-- Ethereum -->
                <div class="bg-black/40 backdrop-blur-sm rounded-xl p-4 sm:p-6 border border-red-500/20 hover:border-red-500/40 transition-all group">
                  <div class="flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4">
                    <img src="/ethereum.svg" alt="Ethereum" class="w-6 h-6 sm:w-8 sm:h-8" />
                    <h3 class="text-lg sm:text-xl font-bold text-red-500 group-hover:text-red-400 transition-colors">Ethereum</h3>
                  </div>
                  <div class="bg-gray-800/50 rounded-lg p-2 sm:p-3 border border-red-500/10">
                    <code class="text-xs sm:text-sm text-gray-300 break-all">0x7e0Ba07A1A69ce4C26561e89B19058c7fB00ADB5</code>
                  </div>
                </div>

              </div>
            </div>

            <!-- Note -->
            <div class="mt-6 sm:mt-8 p-3 sm:p-4 bg-black/40 rounded-lg border border-red-500/20 hover:border-red-500/40 transition-all group shadow-md">
              <p class="text-xs sm:text-sm text-gray-400">
                Thank you for your support! Your donations help Uwitz maintain and improve our projects.
              </p>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>
</BaseLayout>

<style is:global>
  html {
    scroll-behavior: smooth;
  }
  #gradient-overlay { will-change: opacity; transform: translateZ(0); }
  @media (prefers-reduced-motion: reduce) {
    #gradient-overlay { transition: none; }
  }
</style>

<script>
  const gradientOverlay = document.getElementById('gradient-overlay');
  
  window.addEventListener('scroll', () => {
    const maxScroll = (document.documentElement.scrollHeight - window.innerHeight);
    const scrollPercent = maxScroll > 0 ? (window.scrollY / maxScroll) * 100 : 0;
    const opacity = Math.max(0.3, 1 - (scrollPercent / 100));
    if (gradientOverlay) gradientOverlay.style.opacity = opacity.toString();
  });

  // Bank details switcher
  const countrySelect = document.getElementById('country-select') as HTMLSelectElement;
  const bankDetails = document.getElementById('bank-details');
  
  if (countrySelect && bankDetails) {
    const allDetails = bankDetails.querySelectorAll('div[id$="-details"]');

    countrySelect.addEventListener('change', () => {
      const selectedCountry = countrySelect.value;
      
      // Hide all details
      allDetails.forEach(detail => {
        detail.classList.add('hidden');
      });
      
      // Show selected country's details
      const selectedDetails = document.getElementById(`${selectedCountry}-details`);
      if (selectedDetails) {
        selectedDetails.classList.remove('hidden');
      }
    });
  }
</script> 